<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Discord-like Voice Chat</title>
    <link rel="stylesheet" href="static/css/styles.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <div class="container">
        <h1>üé§ –ì–æ–ª–æ—Å–æ–≤–æ–π —á–∞—Ç (WebRTC + Python + –®—É–º–æ–¥–∞–≤)</h1>
        <div class="setup">
            <input type="text" id="room" placeholder="–ò–º—è –∫–æ–º–Ω–∞—Ç—ã" value="General">
            <button id="joinBtn">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∫–æ–º–Ω–∞—Ç–µ</button>
            <button id="leaveBtn" disabled>–ü–æ–∫–∏–Ω—É—Ç—å –∫–æ–º–Ω–∞—Ç—É</button>
        </div>
        <div class="status">
            <p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: <span id="username">-</span> | –°—Ç–∞—Ç—É—Å: <span id="status">–ù–µ –ø–æ–¥–∫–ª—é—á—ë–Ω</span></p>
            <p>–ö–æ–º–Ω–∞—Ç–∞: <span id="roomName">-</span></p>
        </div>
        
        <div class="participants">
            <h3>–£—á–∞—Å—Ç–Ω–∏–∫–∏ –≤ –≥–æ–ª–æ—Å–æ–≤–æ–º –∫–∞–Ω–∞–ª–µ</h3>
            <div id="participantsList">
                <!-- –£—á–∞—Å—Ç–Ω–∏–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
        <div class="controls">
            <button id="muteToggleBtn" disabled>üé§ –í—ã–∫–ª—é—á–∏—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω</button>
            <button id="deafenBtn" disabled>üîá –ó–∞–≥–ª—É—à–∏—Ç—å –∑–≤—É–∫</button>
        </div>
        
        <div class="screen-share-section">
            <h3>üì∫ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–∞</h3>
            <div class="screen-controls">
                <button id="startScreenShareBtn" disabled>üñ•Ô∏è –ù–∞—á–∞—Ç—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é</button>
                <button id="stopScreenShareBtn" disabled>‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é</button>
            </div>
            <div id="screenSharesList">
                <!-- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —ç–∫—Ä–∞–Ω–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
        
        <div class="noise-suppression-section">
            <h3>üéõÔ∏è –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —à—É–º–æ–¥–∞–≤ (–∫–∞–∫ –≤ Discord)</h3>
            
            <div class="noise-controls">
                <button id="toggleNoiseSuppressionBtn" disabled>üîá –û—Ç–∫–ª—é—á–∏—Ç—å —à—É–º–æ–¥–∞–≤</button>
                <button id="noiseSuppressionMode" disabled>–†–µ–∂–∏–º: –£–º–µ—Ä–µ–Ω–Ω—ã–π</button>
                <button id="noiseProfileBtn" disabled>üîÑ –ü–µ—Ä–µ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —à—É–º</button>
            </div>
            
            <div class="noise-info">
                <p><strong>–†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:</strong></p>
                <ul>
                    <li><strong>–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π</strong> - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –±–æ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π, —Å–ª–∞–±–æ–µ –ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ</li>
                    <li><strong>–£–º–µ—Ä–µ–Ω–Ω—ã–π</strong> - –±–∞–ª–∞–Ω—Å –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)</li>
                    <li><strong>–ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π</strong> - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ, –∫–∞–∫ –≤ Discord</li>
                </ul>
            </div>
        </div>
        
        <div class="silence-controls">
            <h3>üîä –ü–æ—Ä–æ–≥ –≥—Ä–æ–º–∫–æ—Å—Ç–∏</h3>
            <div class="silence-indicator">
                <span id="silenceIndicator" class="silent">üîá –¢–∏—à–∏–Ω–∞</span>
            </div>
            <div class="volume-control-wrapper">
                <div class="volume-meter">
                    <div class="volume-bar" id="volumeBar">
                        <div class="volume-fill" id="volumeFill"></div>
                        <input type="range" class="threshold-slider" id="silenceThreshold" min="0" max="100" value="40" step="1">
                    </div>
                </div>
                <div class="threshold-label">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Ä–æ–≥–∞</div>
            </div>
            <button id="toggleSilenceBtn" disabled>üîá –û—Ç–∫–ª—é—á–∏—Ç—å –¥–µ—Ç–µ–∫—Ç–æ—Ä —Ç–∏—à–∏–Ω—ã</button>
        </div>
        <div class="logs">
            <h3>–õ–æ–≥–∏:</h3>
            <pre id="log"></pre>
        </div>
        
        <!-- –ß–∞—Ç -->
        <div class="chat-section">
            <h3>üí¨ –ß–∞—Ç</h3>
            <div class="chat-container">
                <div class="chat-messages" id="chatMessages">
                    <!-- –°–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ -->
                </div>
                <div class="chat-input-container">
                    <div class="file-upload-area" id="fileUploadArea">
                        <span class="upload-hint">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã —Å—é–¥–∞ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞</span>
                        <input type="file" id="fileInput" accept="image/*,video/*" multiple style="display: none;">
                    </div>
                    <div class="chat-input-wrapper">
                        <textarea id="chatInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ... (Ctrl+V –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è/–≤–∏–¥–µ–æ)" rows="3"></textarea>
                        <div class="chat-buttons">
                            <button id="attachFileBtn" class="attach-btn" title="–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª">üìé</button>
                            <button id="sendMessageBtn" class="send-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø–æ–ª–Ω–æ—Ä–∞–∑–º–µ—Ä–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π -->
    <div id="imageModal" class="modal">
        <span class="close">&times;</span>
        <img class="modal-content" id="modalImage">
        <div id="caption"></div>
    </div>
    
    <script src="static/js/noise-suppressor-v2.js"></script>
    <script src="static/js/main.js"></script>
    <script src="static/js/chat.js"></script>
</body>
</html>